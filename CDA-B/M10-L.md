**Module 10 breakdown** focused on **lab tasks, command usage, expected vs anomalous output**, and practical guidance for troubleshooting and validation. 


---

## üîπ Module 10: Network Devices

**Objective**: Use CLI tools and Wireshark to identify misconfigurations, verify Layer 2 & Layer 3 behavior, and isolate malicious actors on the network.

---

### üî∏ Lesson 1: Switching (VLANs, Port Security, Traffic Isolation)

#### üîß LAB TASKS: VLAN & Trunking

**Objective**: Configure VLANs and trunking on a Cisco switch and verify the configuration.

**Commands:**

```bash
S1#configure terminal
S1(config)#interface range GigabitEthernet0/0-1
S1(config-if-range)#switchport trunk encapsulation dot1q
S1(config-if-range)#switchport mode trunk
S1(config-if-range)#switchport nonegotiate
S1(config-if-range)#end
S1#show running-config | section interface
```

**Expected Output:**

* `dot1q` encapsulation visible under interfaces
* Interfaces set to `mode trunk`
* `nonegotiate` disables DTP to prevent trunk auto-negotiation

**Anomalous Output:**

* Interfaces not appearing in the VLAN
* Interfaces defaulting to `access` mode
* DTP negotiation visible in logs (misconfiguration)

#### üïµÔ∏è Port Mirror for Traffic Analysis

```bash
S1(config)#monitor session 1 source interface GigabitEthernet0/0 - 1
S1(config)#monitor session 1 destination interface GigabitEthernet3/3
S1(config)#do show running-config | section monitor
```

* **Expected**: Wireshark captures mirrored traffic
* **Anomalous**: No packets seen on `eth1` ‚ûú Misconfigured monitor session; rerun mirror config

---

### üî∏ Lesson 2: Routing (OSPF & BGP)

#### üîß LAB TASKS: OSPF Configuration

**Use case**: Use packet captures to identify OSPF area mismatches and configure routers.

**Commands:**

```bash
R1#configure terminal
R1(config)#router ospf 1
R1(config-router)#network 64.210.18.73 0.0.0.0 area 8
R1#show run | section router ospf 1
```

* **Expected**: OSPF neighbor relationship forms
* **Anomalous**:

  * No adjacency ‚ûú Mismatched Area ID, Hello/Dead timers, or missing authentication
  * Use `debug ip ospf adj` or check via PCAP for `Area ID`, `Router ID`, and auth flags

#### üîß BGP Route Review

```bash
R1#show ip bgp summary
R1#show ip bgp
```

* **Expected**: Established sessions, routes visible in BGP table
* **Anomalous**: `Idle` or `Active` states suggest no TCP 179 connectivity or config mismatch

---

### üî∏ Lesson 3: Protocol Basics

#### üîß LAB TASKS: Host Discovery & DNS Review

**Ping and Nmap Use**

```bash
$ ping 172.16.1.13
$ sudo nmap -sn 172.16.1.0/24
```

* **Expected**: Replies from active VLAN hosts
* **Anomalous**: No replies ‚ûú Misconfigured VLAN or ACLs blocking ICMP

#### üîß Wireshark Filtering

```wireshark
ip.src == 172.16.2.128
!(arp or icmp)
```

* **Expected**: TCP/UDP traffic from target IP
* **Anomalous**: No output ‚ûú Wrong interface filter, capture not active, VLAN mirror misconfigured

#### üîß Anomaly Detection via MAC Tables

```bash
S1#show mac address-table
```

* Used to verify if a suspected MAC is moving ports or spoofing.
* **Anomalous**: One MAC appearing on multiple interfaces in a short time span may suggest MAC flooding/spoofing.

#### üîí Quarantining Threat

```bash
S2#configure terminal
S2(config)#interface GigabitEthernet2/0
S2(config-if)#switchport access vlan 999
```

* **Expected**: Device is moved to isolated subnet (192.168.0.0/24)
* **Anomalous**: Device remains visible on corporate VLAN ‚ûú Command not applied or port not correctly reassigned

---

## üß™ Summary: Issue Identification Process

| Step            | Tool                                   | Description               | Expected                 | Issue If Not Met                     |
| --------------- | -------------------------------------- | ------------------------- | ------------------------ | ------------------------------------ |
| VLAN mapping    | `show vlan` / `show mac address-table` | Verify switch port config | Matches topology         | Mismatched port config or rogue VLAN |
| OSPF config     | `show ip ospf neighbor`                | Check adjacency           | Full adjacency           | Hello mismatch or Area ID conflict   |
| BGP status      | `show ip bgp summary`                  | View session states       | Established              | Session flapping or TCP 179 blocked  |
| Traffic capture | Wireshark                              | Validate mirrored flow    | Packet flow visible      | Trunk port or mirror config error    |
| Quarantine      | `switchport access vlan 999`           | Move attacker device      | Only seen on 192.168.0.0 | MAC sticking or misassigned port     |

---

